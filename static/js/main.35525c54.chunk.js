(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){"use strict";a.r(t);var n=a(82),l=a(17),i=a(18),s=a(20),r=a(19),o=a(21),c=a(0),u=a.n(c),m=a(15),h=a.n(m),d=(a(88),a(14)),p=a.n(d),f=a(81),g=a.n(f),v=a(35),b=a.n(v),E=a(45),N=a.n(E),k=a(46),y=a.n(k),C=a(22),w=500,j=1600,x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={angle:0,height:window.innerHeight||w,width:window.innerWidth||j},a.updateAnimationState=a.updateAnimationState.bind(Object(C.a)(Object(C.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"updateAnimationState",value:function(){this.setState(function(e){return{angle:e.angle+.07}}),this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rAF)}},{key:"render",value:function(){return u.a.createElement(M,{angle:this.state.angle})}}]),t}(u.a.Component),M=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).saveContext=a.saveContext.bind(Object(C.a)(Object(C.a)(a))),a.width=window.innerWidth||j,a.height=window.innerHeight||w,a.flakesCount=200,a.flakes=[];for(var n=0;n<a.flakesCount;n++)a.flakes.push({x:Math.random()*a.width,y:Math.random()*a.height,r:1+4*Math.random(),o:.3+.6*Math.random(),n:100*Math.random()});return a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"saveContext",value:function(e){this.ctx=e}},{key:"componentDidUpdate",value:function(){for(var e=this.props.angle,t=0;t<this.flakesCount;t++){var a=this.flakes[t];a.y+=a.o+a.r,a.x+=Math.sin(e+a.n),a.y>this.height&&(Math.random()>.1?this.flakes[t]={x:Math.random()*this.width,y:-10,r:a.r,o:a.o,n:a.n}:Math.sin(e)>0?this.flakes[t]={x:-5,y:Math.random()*this.height,r:a.r,o:a.o,n:a.n}:this.flakes[t]={x:this.width+5,y:Math.random()*this.height,r:a.r,o:a.o,n:a.n})}this.ctx.beginPath(),this.ctx.clearRect(0,0,this.width,this.height);for(var n=0;n<this.flakesCount;n++){var l=this.flakes[n];this.ctx.fillStyle="rgba(255,255,255,"+l.o+")",this.ctx.beginPath(),this.ctx.moveTo(l.x,l.y),this.ctx.arc(l.x,l.y,l.r,0,2*Math.PI,!0),this.ctx.fill()}}},{key:"render",value:function(){return u.a.createElement(P,{contextRef:this.saveContext,width:this.width,height:this.height})}}]),t}(u.a.Component),P=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this;return u.a.createElement("canvas",{style:{margin:0,padding:0,pointerEvents:"none",position:"fixed",top:0,left:0,zIndex:0},width:this.props.width,height:this.props.height,ref:function(t){return t?e.props.contextRef(t.getContext("2d")):null}})}}]),t}(u.a.Component);var O=function(e){return-1===e.value?u.a.createElement("div",{className:"peg-dead"}):0===e.value?u.a.createElement("div",{className:"peg peg-blank"}):1===e.value?u.a.createElement("div",{className:"peg peg-alive",onClick:e.onClick}):2===e.value?u.a.createElement("div",{className:"peg peg-highlighted",onClick:e.onClick}):3===e.value?u.a.createElement("div",{className:"peg peg-active",onClick:e.onClick}):void 0},S=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"renderPeg",value:function(e){var t=this;return u.a.createElement(O,{key:e,value:this.props.pegs[Math.floor(e/7)][e%7],onClick:function(){return t.props.onClick(Math.floor(e/7),e%7)}})}},{key:"render",value:function(){for(var e=[],t=0;t<49;t++)e.push(this.renderPeg(t));return u.a.createElement("div",{className:"board"},e)}}]),t}(u.a.Component),T=a(79),A=a.n(T);var _=function(e){return e.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:e.onClick}),u.a.createElement("div",{className:"dialog"},u.a.createElement("h2",null,"How to play"),u.a.createElement(p.a,{className:"close-btn",onClick:e.onClick},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("p",null,"Remove pegs until only one is left in the center."),u.a.createElement("p",null,"To remove a peg, jump over it with an adjacent peg and land in an empty spot."),u.a.createElement("img",{src:A.a,alt:"rules",className:"rules"}))):null};var R=function(e){return null===e.value?null:"defeat"===e.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:e.onClose}),u.a.createElement("div",{className:"dialog dialog--defeat"},u.a.createElement(p.a,{className:"close-btn",onClick:e.onClose},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("i",{className:"material-icons"},"sentiment_very_dissatisfied"),u.a.createElement("h2",null,"You lost"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber/2)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"Better luck next time!",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"contained",onClick:e.onClick},"Try again"))):"part-win"===e.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:e.onClose}),u.a.createElement("div",{className:"dialog dialog--win"},u.a.createElement(p.a,{className:"close-btn",onClick:e.onClose},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("i",{className:"material-icons"},"sentiment_satisfied_alt"),u.a.createElement("h2",null,"Almost there!"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber/2)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"There's only one peg left on the board but it's not in the center. You can do better!",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"outlined",onClick:e.onClick},"Play again"))):"full-win"===e.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:e.onClose}),u.a.createElement("div",{className:"dialog dialog--win"},u.a.createElement(p.a,{className:"close-btn",onClick:e.onClose},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("i",{className:"material-icons"},"sentiment_very_satisfied"),u.a.createElement("h2",null,"Woah! You did it!"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber/2)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"Amazing job, I'm proud.",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"outlined",onClick:e.onClick},"Play again"))):void 0},F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).changeTheme=function(e){a.setState({theme:e.target.value})},a.state={showRules:!1,history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1]]}],height:7,width:7,stepNumber:0,pegsNumber:2,defaultPegsNumber:32,gameState:null,boardType:"english",theme:"default"},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"changeBoard",value:function(e){"english"===e?this.setState({boardType:"european",history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,1,1,1,1,1,-1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[-1,1,1,1,1,1,-1],[-1,-1,1,1,1,-1,-1]]}],height:7,width:7,stepNumber:0,pegsNumber:36,defaultPegsNumber:36,gameState:null}):"european"===e&&this.setState({boardType:"english",history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1]]}],height:7,width:7,stepNumber:0,pegsNumber:32,defaultPegsNumber:32,gameState:null})}},{key:"toggleRules",value:function(){this.setState({showRules:!this.state.showRules})}},{key:"jumpTo",value:function(e){e<0||this.setState({stepNumber:e,history:this.state.history.slice(0,this.state.stepNumber+1),pegsNumber:this.state.defaultPegsNumber-Math.floor(e/2),gameState:null})}},{key:"findPegsActive",value:function(e){for(var t=[],a=0;a<this.state.height;a++)for(var n=0;n<this.state.width;n++)3===e[a][n]&&t.push([a,n]);return t}},{key:"findHolesActive",value:function(e){for(var t=[],a=0;a<this.state.height;a++)for(var n=0;n<this.state.width;n++)2===e[a][n]&&t.push([a,n]);return t}},{key:"findPegsToMove",value:function(e){for(var t=[],a=0;a<this.state.height;a++)for(var n=0;n<this.state.width;n++)1===e[a][n]&&(a-2>=0&&1===e[a-1][n]&&(0===e[a-2][n]||2===e[a-2][n])||a+2<=6&&1===e[a+1][n]&&(0===e[a+2][n]||2===e[a+2][n])||n-2>=0&&1===e[a][n-1]&&(0===e[a][n-2]||2===e[a][n-2])||n+2<=6&&1===e[a][n+1]&&(0===e[a][n+2]||2===e[a][n+2]))&&t.push([a,n]);return t}},{key:"findHolesToFill",value:function(e,t,a){var n=[];return t-2>=0&&1===e[t-1][a]&&0===e[t-2][a]&&n.push([t-2,a]),t+2<=6&&1===e[t+1][a]&&0===e[t+2][a]&&n.push([t+2,a]),a-2>=0&&1===e[t][a-1]&&0===e[t][a-2]&&n.push([t,a-2]),a+2<=6&&1===e[t][a+1]&&0===e[t][a+2]&&n.push([t,a+2]),n}},{key:"deleteTheMiddlePeg",value:function(e,t,a,n){return e>a[0][0]?n[e-1][t]=0:e<a[0][0]?n[e+1][t]=0:t>a[0][1]?n[e][t-1]=0:n[e][t+1]=0,n}},{key:"handlePegClick",value:function(e,t){var a=this,l=this.state.pegsNumber,i=this.state.stepNumber,s=this.state.history.slice(0,this.state.stepNumber+1),r=s[this.state.stepNumber].pegs.map(function(e){return Object(n.a)({},e)}),o=this.findPegsToMove(r),c=this.findHolesToFill(r,e,t),u=this.findPegsActive(r);if(!u.length&&H(o,[e,t])){for(var m=0;m<c.length;m++)r[c[m][0]][c[m][1]]=2;r[e][t]=3,this.setState({history:s.concat([{pegs:r}]),stepNumber:s.length})}else if(2===r[e][t]){for(var h,d,p=0;p<this.state.height;p++)for(var f=0;f<this.state.width;f++)3===r[p][f]?(r[p][f]=0,r[e][t]=1,h=p,d=f):2===r[p][f]&&(r[p][f]=0);this.setState({history:s.concat([{pegs:this.deleteTheMiddlePeg(h,d,[[e,t]],r)}]),stepNumber:s.length,pegsNumber:l-1},function(){a.setState({gameState:function(e,t,a,n){if(0===t.length&&0===a.length)return 1===e&&1===n[3][3]?"full-win":1===e?"part-win":"defeat";return null}(l-1,a.findPegsToMove(r),a.findPegsActive(r),r)})})}else H(u,[e,t])?this.jumpTo(i-1):u.length&&H(o,[e,t])&&this.setState({stepNumber:i-1,history:this.state.history.slice(0,i+1),pegsNumber:this.state.defaultPegsNumber-Math.floor((i-1)/2),gameState:null},function(){a.handlePegClick(e,t)})}},{key:"render",value:function(){var e=this,t=this.state.history[this.state.stepNumber].pegs.slice(),a=this.findPegsActive(t),n=this.state.theme,l=this.state.stepNumber,i=this.state.pegsNumber,s=this.state.showRules,r=this.state.gameState;return u.a.createElement("div",{className:"container "+n},"christmas"===n&&u.a.createElement("div",null,u.a.createElement("audio",{autoPlay:!0,loop:!0},u.a.createElement("source",{src:N.a,type:"audio/mpeg"}),u.a.createElement("embed",{src:N.a,autostart:"true",loop:!0,hidden:!0})),u.a.createElement(x,null),u.a.createElement("svg",{className:"ground",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none"},u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},u.a.createElement("stop",{offset:"0%",stopColor:"#ffffff"}),u.a.createElement("stop",{offset:"100%",stopColor:"#8fa5b3"}))),u.a.createElement("path",{d:"M -40 100 Q 10 -70 60 100 ",fill:"url(#gradient)"}),u.a.createElement("path",{d:"M 15 100 Q 80 -100 120 100 ",fill:"url(#gradient)"}))),"vaporwave"===n&&u.a.createElement("audio",{autoPlay:!0,loop:!0},u.a.createElement("source",{src:y.a,type:"audio/mpeg"}),u.a.createElement("embed",{src:y.a,autostart:"true",loop:!0,hidden:!0})),u.a.createElement("h1",{className:"title"},"Peg Solitaire"),u.a.createElement("div",{className:"options"},u.a.createElement(p.a,{className:"options__btn",onClick:function(){return e.jumpTo(0===a.length?l-2:l-1)}},u.a.createElement("i",{className:"material-icons"},"keyboard_backspace"),"Undo"),u.a.createElement(p.a,{className:"options__btn",onClick:function(){return e.jumpTo(0)}},u.a.createElement("i",{className:"material-icons"},"replay"),"Restart"),u.a.createElement(p.a,{className:"options__btn",onClick:function(){return e.changeBoard(e.state.boardType)}},u.a.createElement("i",{className:"material-icons"},"grain"),"Switch board"),u.a.createElement(p.a,{className:"options__btn",onClick:function(){return e.toggleRules()}},u.a.createElement("i",{className:"material-icons"},"help_outline"),"How to play")),u.a.createElement("div",null,u.a.createElement(S,{onClick:function(t,a){return e.handlePegClick(t,a)},pegs:t})),u.a.createElement("div",{className:"score"},u.a.createElement("div",null,"Moves: ",Math.floor(l/2)),u.a.createElement("div",null,"Pegs left: ",i)),u.a.createElement("div",{className:"theme-select"},u.a.createElement("span",null,"Theme:"),u.a.createElement(g.a,{onChange:this.changeTheme,value:this.state.theme,className:"select"},u.a.createElement(b.a,{value:"default"},"Default"),u.a.createElement(b.a,{value:"christmas"},"Christmas"),u.a.createElement(b.a,{value:"vaporwave"},"Vaporwave"))),u.a.createElement("div",null,u.a.createElement(R,{value:r,stepNumber:l,pegsNumber:i,onClick:function(){return e.jumpTo(0)},onClose:function(){return e.setState({gameState:null})}})),u.a.createElement("div",null,u.a.createElement(_,{value:s,onClick:function(){return e.toggleRules()}})))}}]),t}(u.a.Component);function H(e,t){for(var a=0;a<e.length;a++)if(e[a][0]===t[0]&&e[a][1]===t[1])return!0;return!1}h.a.render(u.a.createElement(F,null),document.getElementById("root"))},45:function(e,t,a){e.exports=a.p+"static/media/christmas.03f55f64.mp3"},46:function(e,t,a){e.exports=a.p+"static/media/vaporwave.f2fa89b9.mp3"},79:function(e,t,a){e.exports=a.p+"static/media/rules.c000354a.png"},83:function(e,t,a){e.exports=a(224)},88:function(e,t,a){}},[[83,2,1]]]);
//# sourceMappingURL=main.35525c54.chunk.js.map