(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{251:function(e,t,a){"use strict";a.r(t);var n=a(90),i=a(16),l=a(17),r=a(19),s=a(18),o=a(20),c=a(0),u=a.n(c),m=a(15),h=a.n(m),d=(a(96),a(5)),p=a.n(d),g=a(89),f=a.n(g),v=a(36),b=a.n(v),E=a(46),N=a.n(E),y=a(47),k=a.n(y),C=a(23),w=500,x=1600,j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={angle:0,height:window.innerHeight||w,width:window.innerWidth||x},a.updateAnimationState=a.updateAnimationState.bind(Object(C.a)(Object(C.a)(a))),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"updateAnimationState",value:function(){this.setState(function(e){return{angle:e.angle+.07}}),this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rAF)}},{key:"render",value:function(){return u.a.createElement(S,{angle:this.state.angle})}}]),t}(u.a.Component),S=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).saveContext=a.saveContext.bind(Object(C.a)(Object(C.a)(a))),a.width=window.innerWidth||x,a.height=window.innerHeight||w,a.flakesCount=200,a.flakes=[];for(var n=0;n<a.flakesCount;n++)a.flakes.push({x:Math.random()*a.width,y:Math.random()*a.height,r:1+4*Math.random(),o:.3+.6*Math.random(),n:100*Math.random()});return a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"saveContext",value:function(e){this.ctx=e}},{key:"componentDidUpdate",value:function(){for(var e=this.props.angle,t=0;t<this.flakesCount;t++){var a=this.flakes[t];a.y+=a.o+a.r,a.x+=Math.sin(e+a.n),a.y>this.height&&(Math.random()>.1?this.flakes[t]={x:Math.random()*this.width,y:-10,r:a.r,o:a.o,n:a.n}:Math.sin(e)>0?this.flakes[t]={x:-5,y:Math.random()*this.height,r:a.r,o:a.o,n:a.n}:this.flakes[t]={x:this.width+5,y:Math.random()*this.height,r:a.r,o:a.o,n:a.n})}this.ctx.beginPath(),this.ctx.clearRect(0,0,this.width,this.height);for(var n=0;n<this.flakesCount;n++){var i=this.flakes[n];this.ctx.fillStyle="rgba(255,255,255,"+i.o+")",this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y),this.ctx.arc(i.x,i.y,i.r,0,2*Math.PI,!0),this.ctx.fill()}}},{key:"render",value:function(){return u.a.createElement(P,{contextRef:this.saveContext,width:this.width,height:this.height})}}]),t}(u.a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this;return u.a.createElement("canvas",{style:{margin:0,padding:0,pointerEvents:"none",position:"fixed",top:0,left:0,zIndex:0},width:this.props.width,height:this.props.height,ref:function(t){return t?e.props.contextRef(t.getContext("2d")):null}})}}]),t}(u.a.Component);var O=function(e){return-1===e.value?u.a.createElement("div",{className:"peg-dead"}):0===e.value?u.a.createElement("div",{className:"peg peg-blank"}):1===e.value?u.a.createElement("div",{className:"peg peg-alive",onClick:e.onClick}):2===e.value?u.a.createElement("div",{className:"peg peg-highlighted",onClick:e.onClick}):3===e.value?u.a.createElement("div",{className:"peg peg-active",onClick:e.onClick}):void 0},T=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"renderPeg",value:function(e){var t=this;return u.a.createElement(O,{key:e,value:this.props.pegs[Math.floor(e/this.props.width)][e%this.props.height],onClick:function(){return t.props.onClick(Math.floor(e/t.props.width),e%t.props.height)}})}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.width*this.props.height;t++)e.push(this.renderPeg(t));return u.a.createElement("div",{className:"board "+this.props.boardType},e)}}]),t}(u.a.Component),M=a(80),A=a.n(M);var _=function(e){return e.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:e.onClick}),u.a.createElement("div",{className:"dialog"},u.a.createElement("h2",null,"How to play"),u.a.createElement(p.a,{className:"close-btn",onClick:e.onClick},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("p",null,"Remove pegs until only one is left in the center."),u.a.createElement("p",null,"To remove a peg, jump over it with an adjacent peg and land in an empty spot."),u.a.createElement("img",{src:A.a,alt:"rules",className:"rules"}))):null};var I=function(e){return null===e.value?null:"defeat"===e.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:e.onClose}),u.a.createElement("div",{className:"dialog dialog--defeat"},u.a.createElement(p.a,{className:"close-btn",onClick:e.onClose},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("i",{className:"material-icons"},"sentiment_very_dissatisfied"),u.a.createElement("h2",null,"You lost"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber/2)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"Better luck next time!",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"contained",onClick:e.onClick},"Try again"))):"part-win"===e.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:e.onClose}),u.a.createElement("div",{className:"dialog dialog--win"},u.a.createElement(p.a,{className:"close-btn",onClick:e.onClose},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("i",{className:"material-icons"},"sentiment_satisfied_alt"),u.a.createElement("h2",null,"Almost there!"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber/2)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"There's only one peg left on the board but it's not in the center. You can do better!",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"outlined",onClick:e.onClick},"Play again"))):"full-win"===e.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:e.onClose}),u.a.createElement("div",{className:"dialog dialog--win"},u.a.createElement(p.a,{className:"close-btn",onClick:e.onClose},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("i",{className:"material-icons"},"sentiment_very_satisfied"),u.a.createElement("h2",null,"Woah! You did it!"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber/2)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"Amazing job, I'm proud.",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"outlined",onClick:e.onClick},"Play again"))):void 0},B=a(82),R=a.n(B),F=a(83),H=a.n(F),q=a(84),D=a.n(q),G=a(85),U=a.n(G),W=a(86),Y=a.n(W),z=a(87),J=a.n(z),Q=a(88),V=a.n(Q),K=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(r.a)(this,Object(s.a)(t).call(this))).slideTo=function(t){return e.setState({currentIndex:t})},e.onSlideChanged=function(t){return e.setState({currentIndex:t.item})},e.slideNext=function(){return e.setState({currentIndex:e.state.currentIndex+1})},e.slidePrev=function(){return e.setState({currentIndex:e.state.currentIndex-1})},e.state={currentIndex:0,items:[Y.a,V.a,U.a,H.a,J.a,D.a],itemsNames:["English","European","German","Asymmetrical","Square","Diamond"]},e}return Object(o.a)(t,e),Object(l.a)(t,[{key:"renderGallery",value:function(){var e=this.state,t=e.currentIndex,a=e.items,n=e.itemsNames;return u.a.createElement(R.a,{fadeOutAnimation:!0,dotsDisabled:!0,buttonsDisabled:!0,slideToIndex:t,startIndex:t,onSlideChanged:this.onSlideChanged},a.map(function(e,t){return u.a.createElement("div",{key:t}," ",u.a.createElement("h3",null,n[t])," ",u.a.createElement("img",{className:"board-img",src:e,alt:n[t]})," ")}))}},{key:"render",value:function(){var e=this;return this.props.value?u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-container",onClick:this.props.onClose}),u.a.createElement("div",{className:"dialog"},u.a.createElement("h2",null,"Play on a different board"),u.a.createElement(p.a,{className:"close-btn",onClick:this.props.onClose},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement(p.a,{className:"carousel-btn",onClick:function(){return e.slidePrev()}},u.a.createElement("i",{className:"material-icons"},"chevron_left")),u.a.createElement(p.a,{className:"carousel-btn",onClick:function(){return e.slideNext()}},u.a.createElement("i",{className:"material-icons"},"chevron_right")),this.renderGallery(),u.a.createElement(p.a,{variant:"contained",onClick:function(){return e.props.onClick(e.state.currentIndex)}},"Play"))):null}}]),t}(u.a.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).changeTheme=function(e){a.setState({theme:e.target.value})},a.state={showRules:!1,showBoardChoice:!1,audio:!1,history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1]]}],height:7,width:7,stepNumber:0,pegsNumber:32,defaultPegsNumber:32,gameState:null,boardType:"english",theme:"default"},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"changeBoard",value:function(e){0===e?this.setState({boardType:"english",history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1]]}],height:7,width:7,pegsNumber:32,defaultPegsNumber:32}):1===e?this.setState({boardType:"european",history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,1,1,1,1,1,-1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[-1,1,1,1,1,1,-1],[-1,-1,1,1,1,-1,-1]]}],height:7,width:7,pegsNumber:36,defaultPegsNumber:36}):2===e?this.setState({boardType:"german",history:[{pegs:[[-1,-1,-1,1,1,1,-1,-1,-1],[-1,-1,-1,1,1,1,-1,-1,-1],[-1,-1,-1,1,1,1,-1,-1,-1],[1,1,1,1,1,1,1,1,1],[1,1,1,1,0,1,1,1,1],[1,1,1,1,1,1,1,1,1],[-1,-1,-1,1,1,1,-1,-1,-1],[-1,-1,-1,1,1,1,-1,-1,-1],[-1,-1,-1,1,1,1,-1,-1,-1]]}],height:9,width:9,pegsNumber:44,defaultPegsNumber:44}):3===e?this.setState({boardType:"asymmetrical",history:[{pegs:[[-1,-1,1,1,1,-1,-1,-1],[-1,-1,1,1,1,-1,-1,-1],[-1,-1,1,1,1,-1,-1,-1],[1,1,1,1,1,1,1,1],[1,1,1,0,1,1,1,1],[1,1,1,1,1,1,1,1],[-1,-1,1,1,1,-1,-1,-1],[-1,-1,1,1,1,-1,-1,-1]]}],height:8,width:8,pegsNumber:38,defaultPegsNumber:38}):4===e?this.setState({boardType:"square",history:[{pegs:[[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,0,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1]]}],height:6,width:6,pegsNumber:35,defaultPegsNumber:35}):5===e&&this.setState({boardType:"diamond",history:[{pegs:[[-1,-1,-1,-1,1,-1,-1,-1,-1],[-1,-1,-1,1,1,1,-1,-1,-1],[-1,-1,1,1,1,1,1,-1,-1],[-1,1,1,1,1,1,1,1,-1],[1,1,1,1,0,1,1,1,1],[-1,1,1,1,1,1,1,1,-1],[-1,-1,1,1,1,1,1,-1,-1],[-1,-1,-1,1,1,1,-1,-1,-1],[-1,-1,-1,-1,1,-1,-1,-1,-1]]}],height:9,width:9,pegsNumber:40,defaultPegsNumber:40}),this.setState({showBoardChoice:!1,gameState:null,stepNumber:0})}},{key:"toggleRules",value:function(){this.setState({showRules:!this.state.showRules})}},{key:"toggleAudio",value:function(){this.setState({audio:!this.state.audio})}},{key:"toggleBoardChoice",value:function(){this.setState({showBoardChoice:!this.state.showBoardChoice})}},{key:"jumpTo",value:function(e){e<0||this.setState({stepNumber:e,history:this.state.history.slice(0,this.state.stepNumber+1),pegsNumber:this.state.defaultPegsNumber-Math.floor(e/2),gameState:null})}},{key:"findPegsActive",value:function(e){for(var t=[],a=this.state,n=a.width,i=a.height,l=0;l<i;l++)for(var r=0;r<n;r++)3===e[l][r]&&t.push([l,r]);return t}},{key:"findHolesActive",value:function(e){for(var t=[],a=this.state,n=a.width,i=a.height,l=0;l<i;l++)for(var r=0;r<n;r++)2===e[l][r]&&t.push([l,r]);return t}},{key:"findPegsToMove",value:function(e){for(var t=[],a=this.state,n=a.width,i=a.height,l=0;l<i;l++)for(var r=0;r<n;r++)1===e[l][r]&&(l-2>=0&&1===e[l-1][r]&&(0===e[l-2][r]||2===e[l-2][r])||l+2<=i-1&&1===e[l+1][r]&&(0===e[l+2][r]||2===e[l+2][r])||r-2>=0&&1===e[l][r-1]&&(0===e[l][r-2]||2===e[l][r-2])||r+2<=n-1&&1===e[l][r+1]&&(0===e[l][r+2]||2===e[l][r+2]))&&t.push([l,r]);return t}},{key:"findHolesToFill",value:function(e,t,a){var n=[],i=this.state,l=i.width,r=i.height;return t-2>=0&&1===e[t-1][a]&&0===e[t-2][a]&&n.push([t-2,a]),t+2<=r-1&&1===e[t+1][a]&&0===e[t+2][a]&&n.push([t+2,a]),a-2>=0&&1===e[t][a-1]&&0===e[t][a-2]&&n.push([t,a-2]),a+2<=l-1&&1===e[t][a+1]&&0===e[t][a+2]&&n.push([t,a+2]),n}},{key:"deleteTheMiddlePeg",value:function(e,t,a,n){return e>a[0][0]?n[e-1][t]=0:e<a[0][0]?n[e+1][t]=0:t>a[0][1]?n[e][t-1]=0:n[e][t+1]=0,n}},{key:"handlePegClick",value:function(e,t){var a=this,i=this.state,l=i.pegsNumber,r=i.stepNumber,s=i.boardType,o=this.state.history.slice(0,this.state.stepNumber+1),c=o[this.state.stepNumber].pegs.map(function(e){return Object(n.a)({},e)}),u=this.findPegsToMove(c),m=this.findHolesToFill(c,e,t),h=this.findPegsActive(c);if(!h.length&&X(u,[e,t])){for(var d=0;d<m.length;d++)c[m[d][0]][m[d][1]]=2;c[e][t]=3,this.setState({history:o.concat([{pegs:c}]),stepNumber:o.length})}else if(2===c[e][t]){for(var p,g,f=0;f<this.state.height;f++)for(var v=0;v<this.state.width;v++)3===c[f][v]?(c[f][v]=0,c[e][t]=1,p=f,g=v):2===c[f][v]&&(c[f][v]=0);this.setState({history:o.concat([{pegs:this.deleteTheMiddlePeg(p,g,[[e,t]],c)}]),stepNumber:o.length,pegsNumber:l-1},function(){setTimeout(function(){a.setState({gameState:function(e,t,a,n,i){if(0===t.length&&0===a.length)return 1===e?"english"===i&&1===n[3][3]?"full-win":"european"===i&&1===n[4][3]?"full-win":"german"===i&&1===n[4][4]?"full-win":"asymmetrical"===i&&1===n[3][4]?"full-win":"square"===i&&1===n[2][3]?"full-win":"diamond"===i&&1===n[4][4]?"full-win":"part-win":"defeat";return null}(l-1,a.findPegsToMove(c),a.findPegsActive(c),c,s)})},500)})}else X(h,[e,t])?this.jumpTo(r-1):h.length&&X(u,[e,t])&&this.setState({stepNumber:r-1,history:this.state.history.slice(0,r+1),pegsNumber:this.state.defaultPegsNumber-Math.floor((r-1)/2),gameState:null},function(){a.handlePegClick(e,t)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.history,n=t.theme,i=t.stepNumber,l=t.pegsNumber,r=t.showRules,s=t.showBoardChoice,o=t.audio,c=t.gameState,m=a[this.state.stepNumber].pegs.slice(),h=this.findPegsActive(m);return u.a.createElement("div",{className:"container "+n},"christmas"===n&&u.a.createElement("div",null,o&&u.a.createElement(u.a.Fragment,null,u.a.createElement("audio",{autoPlay:!0,loop:!0},u.a.createElement("source",{src:N.a,type:"audio/mpeg"}),u.a.createElement("embed",{src:N.a,autostart:"true",loop:!0,hidden:!0})),u.a.createElement(p.a,{className:"audio-btn",onClick:function(){return e.toggleAudio()}},u.a.createElement("i",{className:"material-icons"},"volume_up"))),!o&&u.a.createElement(p.a,{className:"audio-btn",onClick:function(){return e.toggleAudio()}},u.a.createElement("i",{className:"material-icons"},"volume_off")),u.a.createElement(j,null),u.a.createElement("svg",{className:"ground",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none"},u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},u.a.createElement("stop",{offset:"0%",stopColor:"#ffffff"}),u.a.createElement("stop",{offset:"100%",stopColor:"#8fa5b3"}))),u.a.createElement("path",{d:"M -40 100 Q 10 -70 60 100 ",fill:"url(#gradient)"}),u.a.createElement("path",{d:"M 15 100 Q 80 -100 120 100 ",fill:"url(#gradient)"}))),"vaporwave"===n&&u.a.createElement("div",null,o&&u.a.createElement(u.a.Fragment,null,u.a.createElement("audio",{autoPlay:!0,loop:!0},u.a.createElement("source",{src:k.a,type:"audio/mpeg"}),u.a.createElement("embed",{src:k.a,autostart:"true",loop:!0,hidden:!0})),u.a.createElement(p.a,{className:"audio-btn",onClick:function(){return e.toggleAudio()}},u.a.createElement("i",{className:"material-icons"},"volume_up"))),!o&&u.a.createElement(p.a,{className:"audio-btn",onClick:function(){return e.toggleAudio()}},u.a.createElement("i",{className:"material-icons"},"volume_off"))),u.a.createElement("h1",{className:"title"},"Peg Solitaire"),u.a.createElement("div",{className:"options"},u.a.createElement(p.a,{className:"options__btn",onClick:function(){return e.jumpTo(0===h.length?i-2:i-1)}},u.a.createElement("i",{className:"material-icons"},"keyboard_backspace"),"Undo"),u.a.createElement(p.a,{className:"options__btn",onClick:function(){return e.jumpTo(0)}},u.a.createElement("i",{className:"material-icons"},"replay"),"Restart"),u.a.createElement(p.a,{className:"options__btn",onClick:function(){return e.toggleBoardChoice()}},u.a.createElement("i",{className:"material-icons"},"image_aspect_ratio"),"Other boards"),u.a.createElement(p.a,{className:"options__btn",onClick:function(){return e.toggleRules()}},u.a.createElement("i",{className:"material-icons"},"help_outline"),"How to play")),u.a.createElement("div",null,u.a.createElement(T,{onClick:function(t,a){return e.handlePegClick(t,a)},pegs:m,width:this.state.width,height:this.state.height,boardType:this.state.boardType})),u.a.createElement("div",{className:"score"},u.a.createElement("div",null,"Moves: ",Math.floor(i/2)),u.a.createElement("div",null,"Pegs left: ",l)),u.a.createElement("div",{className:"theme-select"},u.a.createElement("span",null,"Theme:"),u.a.createElement(f.a,{onChange:this.changeTheme,value:this.state.theme,className:"select"},u.a.createElement(b.a,{value:"default"},"Default"),u.a.createElement(b.a,{value:"christmas"},"Christmas"),u.a.createElement(b.a,{value:"vaporwave"},"Vaporwave"))),u.a.createElement(I,{value:c,stepNumber:i,pegsNumber:l,onClick:function(){return e.jumpTo(0)},onClose:function(){return e.setState({gameState:null})}}),u.a.createElement(_,{value:r,onClick:function(){return e.toggleRules()}}),u.a.createElement(K,{value:s,onClick:function(t){return e.changeBoard(t)},onClose:function(){return e.toggleBoardChoice()}}))}}]),t}(u.a.Component);function X(e,t){for(var a=0;a<e.length;a++)if(e[a][0]===t[0]&&e[a][1]===t[1])return!0;return!1}h.a.render(u.a.createElement(L,null),document.getElementById("root"))},46:function(e,t,a){e.exports=a.p+"static/media/christmas.03f55f64.mp3"},47:function(e,t,a){e.exports=a.p+"static/media/vaporwave.f2fa89b9.mp3"},80:function(e,t,a){e.exports=a.p+"static/media/rules.c000354a.png"},83:function(e,t,a){e.exports=a.p+"static/media/asymmetrical.08e5993d.png"},84:function(e,t,a){e.exports=a.p+"static/media/diamond.2e4f56d9.png"},85:function(e,t,a){e.exports=a.p+"static/media/german.29539dad.png"},86:function(e,t,a){e.exports=a.p+"static/media/english.8204b0ec.png"},87:function(e,t,a){e.exports=a.p+"static/media/square.a55ab0f9.png"},88:function(e,t,a){e.exports=a.p+"static/media/european.b37eb7c8.png"},91:function(e,t,a){e.exports=a(251)},96:function(e,t,a){}},[[91,2,1]]]);
//# sourceMappingURL=main.8fb84ec2.chunk.js.map