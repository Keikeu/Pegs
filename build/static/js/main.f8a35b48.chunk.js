(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{231:function(e,t,a){"use strict";a.r(t);var n=a(87),l=a(17),r=a(18),i=a(21),s=a(20),o=a(22),c=a(0),u=a.n(c),m=a(14),h=a.n(m),d=(a(93),a(16)),p=a.n(d),f=a(38),g=a.n(f),v=a(37),b=a.n(v),E=a(86),y=a.n(E),k=a(39),N=a.n(k),w=a(84),C=a.n(w),j=a(50),M=a.n(j),x=a(51),O=a.n(x),A=a(19),S=500,T=1600,P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={angle:0,height:window.innerHeight||S,width:window.innerWidth||T},a.updateAnimationState=a.updateAnimationState.bind(Object(A.a)(Object(A.a)(a))),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"updateAnimationState",value:function(){this.setState(function(e){return{angle:e.angle+.07}}),this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rAF)}},{key:"render",value:function(){return u.a.createElement(R,{angle:this.state.angle})}}]),t}(u.a.Component),R=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).saveContext=a.saveContext.bind(Object(A.a)(Object(A.a)(a))),a.width=window.innerWidth||T,a.height=window.innerHeight||S,a.flakesCount=200,a.flakes=[];for(var n=0;n<a.flakesCount;n++)a.flakes.push({x:Math.random()*a.width,y:Math.random()*a.height,r:1+4*Math.random(),o:.3+.6*Math.random(),n:100*Math.random()});return a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"saveContext",value:function(e){this.ctx=e}},{key:"componentDidUpdate",value:function(){for(var e=this.props.angle,t=0;t<this.flakesCount;t++){var a=this.flakes[t];a.y+=a.o+a.r,a.x+=Math.sin(e+a.n),a.y>this.height&&(Math.random()>.1?this.flakes[t]={x:Math.random()*this.width,y:-10,r:a.r,o:a.o,n:a.n}:Math.sin(e)>0?this.flakes[t]={x:-5,y:Math.random()*this.height,r:a.r,o:a.o,n:a.n}:this.flakes[t]={x:this.width+5,y:Math.random()*this.height,r:a.r,o:a.o,n:a.n})}this.ctx.beginPath(),this.ctx.clearRect(0,0,this.width,this.height);for(var n=0;n<this.flakesCount;n++){var l=this.flakes[n];this.ctx.fillStyle="rgba(255,255,255,"+l.o+")",this.ctx.beginPath(),this.ctx.moveTo(l.x,l.y),this.ctx.arc(l.x,l.y,l.r,0,2*Math.PI,!0),this.ctx.fill()}}},{key:"render",value:function(){return u.a.createElement(F,{contextRef:this.saveContext,width:this.width,height:this.height})}}]),t}(u.a.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this;return u.a.createElement("canvas",{style:{margin:0,padding:0,pointerEvents:"none",position:"fixed",top:0,left:0,zIndex:0},width:this.props.width,height:this.props.height,ref:function(t){return t?e.props.contextRef(t.getContext("2d")):null}})}}]),t}(u.a.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).changeTheme=function(e){a.setState({theme:e.target.value})},a.state={showRules:!1,showAbout:!1,history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1]]}],stepNumber:0,pegsNumber:32,gameState:null,boardType:"english",theme:"default"},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"changeBoard",value:function(e){"english"===e?this.setState({boardType:"european",history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,1,1,1,1,1,-1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[-1,1,1,1,1,1,-1],[-1,-1,1,1,1,-1,-1]]}],pegsNumber:36,stepNumber:0}):"european"===e&&this.setState({boardType:"english",history:[{pegs:[[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1]]}],pegsNumber:32,stepNumber:0})}},{key:"toggleRules",value:function(){this.setState({showRules:!this.state.showRules})}},{key:"toggleAbout",value:function(){this.setState({showAbout:!this.state.showAbout})}},{key:"jumpTo",value:function(e){"english"===this.state.boardType?this.setState({stepNumber:e,history:this.state.history.slice(0,this.state.stepNumber+1),pegsNumber:32-Math.floor(e/2),gameState:null}):"european"===this.state.boardType&&this.setState({stepNumber:e,history:this.state.history.slice(0,this.state.stepNumber+1),pegsNumber:36-Math.floor(e/2),gameState:null})}},{key:"findPegsActive",value:function(e){for(var t=[],a=0;a<7;a++)for(var n=0;n<7;n++)3===e[a][n]&&t.push([a,n]);return t}},{key:"findPegsToMove",value:function(e){var t=[];if(0===this.findPegsActive(e).length)for(var a=0;a<7;a++)for(var n=0;n<7;n++)1===e[a][n]&&(a-2>=0&&1===e[a-1][n]&&0===e[a-2][n]||a+2<=6&&1===e[a+1][n]&&0===e[a+2][n]||n-2>=0&&1===e[a][n-1]&&0===e[a][n-2]||n+2<=6&&1===e[a][n+1]&&0===e[a][n+2])&&t.push([a,n]);return t}},{key:"findHolesToFill",value:function(e,t,a){var n=[];return t-2>=0&&1===e[t-1][a]&&0===e[t-2][a]&&n.push([t-2,a]),t+2<=6&&1===e[t+1][a]&&0===e[t+2][a]&&n.push([t+2,a]),a-2>=0&&1===e[t][a-1]&&0===e[t][a-2]&&n.push([t,a-2]),a+2<=6&&1===e[t][a+1]&&0===e[t][a+2]&&n.push([t,a+2]),n}},{key:"deleteTheMiddlePeg",value:function(e,t,a,n){return e>a[0][0]?n[e-1][t]=0:e<a[0][0]?n[e+1][t]=0:t>a[0][1]?n[e][t-1]=0:n[e][t+1]=0,n}},{key:"handlePegClick",value:function(e,t){var a=this.state.history.slice(0,this.state.stepNumber+1),l=a[this.state.stepNumber].pegs.map(function(e){return Object(n.a)({},e)}),r=this.findPegsToMove(l),i=this.findHolesToFill(l,e,t);if(function(e,t){for(var a=0;a<e.length;a++)if(e[a][0]===t[0]&&e[a][1]===t[1])return!0;return!1}(r,[e,t])){for(var s=0;s<i.length;s++)l[i[s][0]][i[s][1]]=2;l[e][t]=3,this.setState({history:a.concat([{pegs:l}]),stepNumber:a.length})}else if(2===l[e][t]){for(var o,c,u=0;u<7;u++)for(var m=0;m<7;m++)3===l[u][m]?(l[u][m]=0,l[e][t]=1,o=u,c=m):2===l[u][m]&&(l[u][m]=0);this.setState({history:a.concat([{pegs:this.deleteTheMiddlePeg(o,c,[[e,t]],l)}]),stepNumber:a.length,pegsNumber:this.state.pegsNumber-1})}}},{key:"render",value:function(){var e=this,t=this.state.history[this.state.stepNumber].pegs.slice(),a=this.findPegsToMove(t),n=this.findPegsActive(t),l=this.state.theme,r=this.state.stepNumber,i=this.state.pegsNumber,s=this.state.showRules,o=this.state.showAbout,c=this.state.gameState;return U(i,a,n,t)&&setTimeout(function(){e.setState({gameState:U(i,a,n,t)})},1e3),u.a.createElement("div",{className:"container "+l},"christmas"===l&&u.a.createElement("div",null,u.a.createElement("audio",{autoPlay:!0,loop:!0},u.a.createElement("source",{src:M.a,type:"audio/mpeg"}),u.a.createElement("embed",{src:M.a,autostart:"true",loop:!0,hidden:!0})),u.a.createElement(P,null),u.a.createElement("svg",{className:"ground",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none"},u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},u.a.createElement("stop",{offset:"0%","stop-color":"#ffffff"}),u.a.createElement("stop",{offset:"100%","stop-color":"#8fa5b3"}))),u.a.createElement("path",{d:"M -40 100 Q 10 -70 60 100 ",fill:"url(#gradient)"}),u.a.createElement("path",{d:"M 15 100 Q 80 -100 120 100 ",fill:"url(#gradient)"}))),"vaporwave"===l&&u.a.createElement("audio",{autoPlay:!0,loop:!0},u.a.createElement("source",{src:O.a,type:"audio/mpeg"}),u.a.createElement("embed",{src:O.a,autostart:"true",loop:!0,hidden:!0})),u.a.createElement("div",{className:"top-panel"},u.a.createElement(p.a,{className:"top-panel__btn",onClick:function(){return e.toggleAbout()}},"About"),u.a.createElement("h1",null,"Peg Solitaire"),u.a.createElement(p.a,{className:"top-panel__btn",onClick:function(){return e.toggleRules()}},"How to play")),u.a.createElement("div",{className:"options"},u.a.createElement(b.a,{title:"Undo"},u.a.createElement("span",null,u.a.createElement(g.a,{onClick:function(){return e.jumpTo(0===n.length?r-2:r-1)}},u.a.createElement("i",{className:"material-icons"},"keyboard_backspace")))),u.a.createElement(b.a,{title:"Restart"},u.a.createElement("span",null,u.a.createElement(g.a,{onClick:function(){return e.jumpTo(0)}},u.a.createElement("i",{className:"material-icons"},"replay")))),u.a.createElement(b.a,{title:"Change board"},u.a.createElement("span",null,u.a.createElement(g.a,{onClick:function(){return e.changeBoard(e.state.boardType)}},u.a.createElement("i",{className:"material-icons"},"grain"))))),u.a.createElement("div",null,u.a.createElement(H,{onClick:function(t,a){return e.handlePegClick(t,a)},pegs:t})),u.a.createElement("div",{className:"score"},u.a.createElement("div",null,"Number of moves: ",Math.floor(r/2)),u.a.createElement("div",null,"Pegs left: ",i)),u.a.createElement("div",{className:"theme-select"},u.a.createElement("span",null,"Theme:"),u.a.createElement(y.a,{onChange:this.changeTheme,value:this.state.theme,className:"select"},u.a.createElement(N.a,{value:"default"},"Default"),u.a.createElement(N.a,{value:"christmas"},"Christmas"),u.a.createElement(N.a,{value:"vaporwave"},"Vaporwave"))),u.a.createElement("div",null,u.a.createElement(D,{value:c,stepNumber:r,pegsNumber:i,onClick:function(){return e.jumpTo(0)}})),u.a.createElement("div",null,u.a.createElement(W,{value:s,onClick:function(){return e.toggleRules()}})),u.a.createElement("div",null,u.a.createElement(z,{value:o,onClick:function(){return e.toggleAbout()}})))}}]),t}(u.a.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"renderPeg",value:function(e){var t=this;return u.a.createElement(I,{key:e,value:this.props.pegs[Math.floor(e/7)][e%7],onClick:function(){return t.props.onClick(Math.floor(e/7),e%7)}})}},{key:"render",value:function(){for(var e=[],t=0;t<49;t++)e.push(this.renderPeg(t));return u.a.createElement("div",{className:"board"},e)}}]),t}(u.a.Component);function I(e){return-1===e.value?u.a.createElement("div",{className:"peg-dead"}):0===e.value?u.a.createElement("div",{className:"peg-blank"}):1===e.value?u.a.createElement("div",{className:"peg",onClick:e.onClick}):2===e.value?u.a.createElement("div",{className:"peg-highlighted",onClick:e.onClick}):3===e.value?u.a.createElement("div",{className:"peg-active",onClick:e.onClick}):void 0}function U(e,t,a,n){return console.log("calcWin"),0===t.length&&0===a.length?1===e&&1===n[3][3]?"full-win":1===e?"part-win":"defeat":null}function W(e){return e.value?u.a.createElement("div",{className:"dialog-container"},u.a.createElement("div",{className:"dialog"},u.a.createElement("h3",null,"How to play"),u.a.createElement(p.a,{className:"close-btn",onClick:e.onClick},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("p",null,"Remove all the pegs from the boards until only one is left."),u.a.createElement("p",null,"Click a peg to jump over a peg next to it and land in the empty spot, so that the peg being jumped over can be removed from the board."),u.a.createElement("img",{src:C.a,alt:"rules",className:"rules"}))):null}function z(e){return e.value?u.a.createElement("div",{className:"dialog-container"},u.a.createElement("div",{className:"dialog dialog--about"},u.a.createElement("h3",null,"About Peg Solitaire"),u.a.createElement(p.a,{className:"close-btn",onClick:e.onClick},u.a.createElement("i",{className:"material-icons"},"close")),u.a.createElement("p",{className:"p-left"},"Wanna read some useless stuff about this game? Here you go: ",u.a.createElement("br",null),u.a.createElement("br",null),"Peg solitaire (or Solo Noble) is a board game for one player involving movement of pegs on a board with holes. Some sets use marbles in a board with indentations. The game is known simply as Solitaire in the United Kingdom where the card games are called Patience. It is also referred to as Brainvita (especially in India). The first evidence of the game can be traced back to the court of Louis XIV, and the specific date of 1687(wow, it's so old!), with an engraving made that year by Claude Auguste Berey of Anne de Rohan-Chabot, Princess of Soubise, the Unburnt, Queen of the Andals and the First Men, Khaleesi of the Great Grass Sea, Breaker of Chains, and Mother of Dragons, with the puzzle by her side. The August 1687 edition of the French literary magazine Mercure galant contains a description of the board, rules and sample problems.",u.a.createElement("br",null),u.a.createElement("br",null),"Created by Karolina Placek btw."))):null}function D(e){return null===e.value?null:"defeat"===e.value?u.a.createElement("div",{className:"dialog-container"},u.a.createElement("div",{className:"dialog dialog--defeat"},u.a.createElement("i",{className:"material-icons"},"clear"),u.a.createElement("h2",null,"You fucked up"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"Better luck next time!",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"contained",color:"primary",onClick:e.onClick},"Try again"))):"part-win"===e.value?u.a.createElement("div",{className:"dialog-container"},u.a.createElement("div",{className:"dialog dialog--win"},u.a.createElement("i",{className:"material-icons"},"check"),u.a.createElement("h2",null,"Almost there!"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber/2)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"There's only one peg left on the board but it's not in the center. Blisko niewystarczaj\u0105co.",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"outlined",onClick:e.onClick},"Try again, looser"))):"full-win"===e.value?u.a.createElement("div",{className:"dialog-container"},u.a.createElement("div",{className:"dialog dialog--win"},u.a.createElement("i",{className:"material-icons"},"check"),u.a.createElement("h2",null,"Woah! You did it!"),u.a.createElement("p",null,"Moves: ",Math.floor(e.stepNumber/2)),u.a.createElement("p",null,"Pegs left: ",e.pegsNumber),u.a.createElement("p",null,u.a.createElement("br",null),"I know you cheated, asshole.",u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p.a,{variant:"outlined",onClick:e.onClick},"Do it again, bitch"))):void 0}h.a.render(u.a.createElement(B,null),document.getElementById("root"))},50:function(e,t,a){e.exports=a.p+"static/media/christmas.03f55f64.mp3"},51:function(e,t,a){e.exports=a.p+"static/media/vaporwave.f2fa89b9.mp3"},84:function(e,t,a){e.exports=a.p+"static/media/rules.ba917054.png"},88:function(e,t,a){e.exports=a(231)},93:function(e,t,a){}},[[88,2,1]]]);
//# sourceMappingURL=main.f8a35b48.chunk.js.map